javascript:(function(){(()=>{var t=[{name:"Google",url:"https://www.google.com/search?q=%s",identifier:"google.com",queryGetter:()=>new URLSearchParams(window.location.search).get("q")},{name:"Perplexity",url:"https://www.perplexity.ai/?q=%s",identifier:"perplexity.ai",queryGetter:()=>document.querySelector("h1")?.innerText??null},{name:"\u5FC5\u5E94",url:"https://www.bing.com/search?q=%s",identifier:"bing.com",queryGetter:()=>new URLSearchParams(window.location.search).get("q")},{name:"\u767E\u5EA6",url:"https://www.baidu.com/s?wd=%s",identifier:"baidu.com",queryGetter:()=>new URLSearchParams(window.location.search).get("wd")}];function s(){let n=window.location.href,e=t.find(r=>n.includes(r.identifier));if(!e)throw new Error("\u672A\u627E\u5230\u5339\u914D\u7684\u641C\u7D22\u5F15\u64CE");return e.queryGetter()}function l(){let n="search-engine-switch-last-use",e=t.findIndex(o=>o.name===localStorage.getItem(n));e===-1?e=1:e+=1;let i=prompt("\u8BF7\u9009\u62E9\u641C\u7D22\u5F15\u64CE(\u8F93\u5165\u6570\u5B57):\n"+t.map((o,c)=>"".concat(c+1,". ").concat(o.name)).join("\n"),e.toString());if(i===null)return null;let r=parseInt(i)-1;if(isNaN(r)||!Number.isInteger(r))throw new Error("Invalid input: please enter a valid number");if(r<0||r>=t.length)throw new Error("Please enter a number between 1 and ".concat(t.length));let a=t[r];return localStorage.setItem(n,a.name),a}function w(n,e){let i=e.url.replace("%s",encodeURIComponent(n));window.open(i,"_blank")}function u(){let n=s();if(!n)throw new Error("\u672A\u627E\u5230\u641C\u7D22\u5173\u952E\u8BCD");let e=l();e&&w(n,e)}try{u()}catch(n){alert(n.message)}})();})()